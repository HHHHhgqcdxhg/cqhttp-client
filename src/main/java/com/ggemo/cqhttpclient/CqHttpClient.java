package com.ggemo.cqhttpclient;


// ====================SendPrivateMsgApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SendPrivateMsgApi;
import com.ggemo.cqhttpclient.vo.response.impl.SendPrivateMsgResponse;

// ====================SendGroupMsgApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SendGroupMsgApi;
import com.ggemo.cqhttpclient.vo.response.impl.SendGroupMsgResponse;

// ====================SendDiscussMsgApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SendDiscussMsgApi;
import com.ggemo.cqhttpclient.vo.response.impl.SendDiscussMsgResponse;

// ====================SendMsgApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SendMsgApi;
import com.ggemo.cqhttpclient.vo.response.impl.SendMsgResponse;

// ====================DeleteMsgApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.DeleteMsgApi;
import com.ggemo.cqhttpclient.vo.response.impl.DeleteMsgResponse;

// ====================SendLikeApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SendLikeApi;
import com.ggemo.cqhttpclient.vo.response.impl.SendLikeResponse;

// ====================SetGroupKickApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupKickApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupKickResponse;

// ====================SetGroupBanApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupBanApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupBanResponse;

// ====================SetGroupWholeBanApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupWholeBanApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupWholeBanResponse;

// ====================SetGroupAdminApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupAdminApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupAdminResponse;

// ====================SetGroupAnonymousApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupAnonymousApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupAnonymousResponse;

// ====================SetGroupCardApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupCardApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupCardResponse;

// ====================SetGroupLeaveApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupLeaveApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupLeaveResponse;

// ====================SetGroupSpecialTitleApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetGroupSpecialTitleApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetGroupSpecialTitleResponse;

// ====================SetDiscussLeaveApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetDiscussLeaveApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetDiscussLeaveResponse;

// ====================SetFriendAddRequestApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetFriendAddRequestApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetFriendAddRequestResponse;

// ====================GetLoginInfoApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetLoginInfoApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetLoginInfoResponse;

// ====================GetStrangerInfoApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetStrangerInfoApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetStrangerInfoResponse;

// ====================GetFriendListApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetFriendListApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetFriendListResponse;

// ====================GetGroupListApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetGroupListApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetGroupListResponse;

// ====================GetGroupInfoApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetGroupInfoApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetGroupInfoResponse;

// ====================GetGroupMemberInfoApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetGroupMemberInfoApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetGroupMemberInfoResponse;

// ====================GetCookiesApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetCookiesApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetCookiesResponse;

// ====================GetCsrfTokenApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetCsrfTokenApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetCsrfTokenResponse;

// ====================GetCredentialsApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetCredentialsApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetCredentialsResponse;

// ====================GetRecordApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetRecordApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetRecordResponse;

// ====================GetImageApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetImageApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetImageResponse;

// ====================CanSendImageApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.CanSendImageApi;
import com.ggemo.cqhttpclient.vo.response.impl.CanSendImageResponse;

// ====================CanSendRecordApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.CanSendRecordApi;
import com.ggemo.cqhttpclient.vo.response.impl.CanSendRecordResponse;

// ====================GetVersionInfoApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.GetVersionInfoApi;
import com.ggemo.cqhttpclient.vo.response.impl.GetVersionInfoResponse;

// ====================SetRestartPluginApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.SetRestartPluginApi;
import com.ggemo.cqhttpclient.vo.response.impl.SetRestartPluginResponse;

// ====================CleanDataDirApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.CleanDataDirApi;
import com.ggemo.cqhttpclient.vo.response.impl.CleanDataDirResponse;

// ====================CleanPluginLogApi相关模块====================
import com.ggemo.cqhttpclient.apis.impl.CleanPluginLogApi;
import com.ggemo.cqhttpclient.vo.response.impl.CleanPluginLogResponse;

import com.ggemo.cqhttpclient.requests.HttpPostRequests;
import net.jcip.annotations.ThreadSafe;
import org.apache.http.Header;
import org.apache.http.client.config.RequestConfig;
import org.apache.http.message.BasicHeader;



import java.io.IOException;

/**
 * @author 清纯的小黄瓜
 */
@ThreadSafe
public class CqHttpClient {
    private String baseUrl;
    private String accessToken;

    private HttpPostRequests requests;

    private Header accessTokenHeader = null;
    private RequestConfig requestConfig = null;

    public CqHttpClient(String baseUrl) {
        if (baseUrl.charAt(baseUrl.length() - 1) != '/') {
            baseUrl += "/";
        }
        this.baseUrl = baseUrl;
        this.requests = new HttpPostRequests();
    }

    public CqHttpClient(String baseUrl, String accessToken) {
        this(baseUrl);
        this.setAccessToken(accessToken);
    }

    public CqHttpClient(String baseUrl, RequestConfig requestConfig) {
        this(baseUrl);

        this.requestConfig = requestConfig;
    }

    public CqHttpClient(String baseUrl, String accessToken, RequestConfig requestConfig) {
        this(baseUrl);

        this.requestConfig = requestConfig;
        this.setAccessToken(accessToken);
    }

    private void setAccessToken(String accessToken) {
        this.accessToken = accessToken;
        this.setAccessTokenHeader();
    }

    private void setAccessTokenHeader() {
        if (this.accessToken == null) {
            return;
        }
        this.accessTokenHeader = new BasicHeader("Authorization", "Token " + this.accessToken);
    }

    // ====================SendPrivateMsgApi部分====================
    private SendPrivateMsgApi sendPrivateMsgApi = null;

    // 惰性生成SendPrivateMsg实例
    private SendPrivateMsgApi getSendPrivateMsgApi(){
        if(this.sendPrivateMsgApi == null){
            synchronized (SendPrivateMsgApi.class){
                if (this.sendPrivateMsgApi == null) {
                    this.sendPrivateMsgApi = new SendPrivateMsgApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.sendPrivateMsgApi;
    }

    // ====================SendGroupMsgApi部分====================
    private SendGroupMsgApi sendGroupMsgApi = null;

    // 惰性生成SendGroupMsg实例
    private SendGroupMsgApi getSendGroupMsgApi(){
        if(this.sendGroupMsgApi == null){
            synchronized (SendGroupMsgApi.class){
                if (this.sendGroupMsgApi == null) {
                    this.sendGroupMsgApi = new SendGroupMsgApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.sendGroupMsgApi;
    }

    // ====================SendDiscussMsgApi部分====================
    private SendDiscussMsgApi sendDiscussMsgApi = null;

    // 惰性生成SendDiscussMsg实例
    private SendDiscussMsgApi getSendDiscussMsgApi(){
        if(this.sendDiscussMsgApi == null){
            synchronized (SendDiscussMsgApi.class){
                if (this.sendDiscussMsgApi == null) {
                    this.sendDiscussMsgApi = new SendDiscussMsgApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.sendDiscussMsgApi;
    }

    // ====================SendMsgApi部分====================
    private SendMsgApi sendMsgApi = null;

    // 惰性生成SendMsg实例
    private SendMsgApi getSendMsgApi(){
        if(this.sendMsgApi == null){
            synchronized (SendMsgApi.class){
                if (this.sendMsgApi == null) {
                    this.sendMsgApi = new SendMsgApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.sendMsgApi;
    }

    // ====================DeleteMsgApi部分====================
    private DeleteMsgApi deleteMsgApi = null;

    // 惰性生成DeleteMsg实例
    private DeleteMsgApi getDeleteMsgApi(){
        if(this.deleteMsgApi == null){
            synchronized (DeleteMsgApi.class){
                if (this.deleteMsgApi == null) {
                    this.deleteMsgApi = new DeleteMsgApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.deleteMsgApi;
    }

    // ====================SendLikeApi部分====================
    private SendLikeApi sendLikeApi = null;

    // 惰性生成SendLike实例
    private SendLikeApi getSendLikeApi(){
        if(this.sendLikeApi == null){
            synchronized (SendLikeApi.class){
                if (this.sendLikeApi == null) {
                    this.sendLikeApi = new SendLikeApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.sendLikeApi;
    }

    // ====================SetGroupKickApi部分====================
    private SetGroupKickApi setGroupKickApi = null;

    // 惰性生成SetGroupKick实例
    private SetGroupKickApi getSetGroupKickApi(){
        if(this.setGroupKickApi == null){
            synchronized (SetGroupKickApi.class){
                if (this.setGroupKickApi == null) {
                    this.setGroupKickApi = new SetGroupKickApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupKickApi;
    }

    // ====================SetGroupBanApi部分====================
    private SetGroupBanApi setGroupBanApi = null;

    // 惰性生成SetGroupBan实例
    private SetGroupBanApi getSetGroupBanApi(){
        if(this.setGroupBanApi == null){
            synchronized (SetGroupBanApi.class){
                if (this.setGroupBanApi == null) {
                    this.setGroupBanApi = new SetGroupBanApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupBanApi;
    }

    // ====================SetGroupWholeBanApi部分====================
    private SetGroupWholeBanApi setGroupWholeBanApi = null;

    // 惰性生成SetGroupWholeBan实例
    private SetGroupWholeBanApi getSetGroupWholeBanApi(){
        if(this.setGroupWholeBanApi == null){
            synchronized (SetGroupWholeBanApi.class){
                if (this.setGroupWholeBanApi == null) {
                    this.setGroupWholeBanApi = new SetGroupWholeBanApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupWholeBanApi;
    }

    // ====================SetGroupAdminApi部分====================
    private SetGroupAdminApi setGroupAdminApi = null;

    // 惰性生成SetGroupAdmin实例
    private SetGroupAdminApi getSetGroupAdminApi(){
        if(this.setGroupAdminApi == null){
            synchronized (SetGroupAdminApi.class){
                if (this.setGroupAdminApi == null) {
                    this.setGroupAdminApi = new SetGroupAdminApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupAdminApi;
    }

    // ====================SetGroupAnonymousApi部分====================
    private SetGroupAnonymousApi setGroupAnonymousApi = null;

    // 惰性生成SetGroupAnonymous实例
    private SetGroupAnonymousApi getSetGroupAnonymousApi(){
        if(this.setGroupAnonymousApi == null){
            synchronized (SetGroupAnonymousApi.class){
                if (this.setGroupAnonymousApi == null) {
                    this.setGroupAnonymousApi = new SetGroupAnonymousApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupAnonymousApi;
    }

    // ====================SetGroupCardApi部分====================
    private SetGroupCardApi setGroupCardApi = null;

    // 惰性生成SetGroupCard实例
    private SetGroupCardApi getSetGroupCardApi(){
        if(this.setGroupCardApi == null){
            synchronized (SetGroupCardApi.class){
                if (this.setGroupCardApi == null) {
                    this.setGroupCardApi = new SetGroupCardApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupCardApi;
    }

    // ====================SetGroupLeaveApi部分====================
    private SetGroupLeaveApi setGroupLeaveApi = null;

    // 惰性生成SetGroupLeave实例
    private SetGroupLeaveApi getSetGroupLeaveApi(){
        if(this.setGroupLeaveApi == null){
            synchronized (SetGroupLeaveApi.class){
                if (this.setGroupLeaveApi == null) {
                    this.setGroupLeaveApi = new SetGroupLeaveApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupLeaveApi;
    }

    // ====================SetGroupSpecialTitleApi部分====================
    private SetGroupSpecialTitleApi setGroupSpecialTitleApi = null;

    // 惰性生成SetGroupSpecialTitle实例
    private SetGroupSpecialTitleApi getSetGroupSpecialTitleApi(){
        if(this.setGroupSpecialTitleApi == null){
            synchronized (SetGroupSpecialTitleApi.class){
                if (this.setGroupSpecialTitleApi == null) {
                    this.setGroupSpecialTitleApi = new SetGroupSpecialTitleApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setGroupSpecialTitleApi;
    }

    // ====================SetDiscussLeaveApi部分====================
    private SetDiscussLeaveApi setDiscussLeaveApi = null;

    // 惰性生成SetDiscussLeave实例
    private SetDiscussLeaveApi getSetDiscussLeaveApi(){
        if(this.setDiscussLeaveApi == null){
            synchronized (SetDiscussLeaveApi.class){
                if (this.setDiscussLeaveApi == null) {
                    this.setDiscussLeaveApi = new SetDiscussLeaveApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setDiscussLeaveApi;
    }

    // ====================SetFriendAddRequestApi部分====================
    private SetFriendAddRequestApi setFriendAddRequestApi = null;

    // 惰性生成SetFriendAddRequest实例
    private SetFriendAddRequestApi getSetFriendAddRequestApi(){
        if(this.setFriendAddRequestApi == null){
            synchronized (SetFriendAddRequestApi.class){
                if (this.setFriendAddRequestApi == null) {
                    this.setFriendAddRequestApi = new SetFriendAddRequestApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setFriendAddRequestApi;
    }

    // ====================GetLoginInfoApi部分====================
    private GetLoginInfoApi getLoginInfoApi = null;

    // 惰性生成GetLoginInfo实例
    private GetLoginInfoApi getGetLoginInfoApi(){
        if(this.getLoginInfoApi == null){
            synchronized (GetLoginInfoApi.class){
                if (this.getLoginInfoApi == null) {
                    this.getLoginInfoApi = new GetLoginInfoApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getLoginInfoApi;
    }

    // ====================GetStrangerInfoApi部分====================
    private GetStrangerInfoApi getStrangerInfoApi = null;

    // 惰性生成GetStrangerInfo实例
    private GetStrangerInfoApi getGetStrangerInfoApi(){
        if(this.getStrangerInfoApi == null){
            synchronized (GetStrangerInfoApi.class){
                if (this.getStrangerInfoApi == null) {
                    this.getStrangerInfoApi = new GetStrangerInfoApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getStrangerInfoApi;
    }

    // ====================GetFriendListApi部分====================
    private GetFriendListApi getFriendListApi = null;

    // 惰性生成GetFriendList实例
    private GetFriendListApi getGetFriendListApi(){
        if(this.getFriendListApi == null){
            synchronized (GetFriendListApi.class){
                if (this.getFriendListApi == null) {
                    this.getFriendListApi = new GetFriendListApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getFriendListApi;
    }

    // ====================GetGroupListApi部分====================
    private GetGroupListApi getGroupListApi = null;

    // 惰性生成GetGroupList实例
    private GetGroupListApi getGetGroupListApi(){
        if(this.getGroupListApi == null){
            synchronized (GetGroupListApi.class){
                if (this.getGroupListApi == null) {
                    this.getGroupListApi = new GetGroupListApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getGroupListApi;
    }

    // ====================GetGroupInfoApi部分====================
    private GetGroupInfoApi getGroupInfoApi = null;

    // 惰性生成GetGroupInfo实例
    private GetGroupInfoApi getGetGroupInfoApi(){
        if(this.getGroupInfoApi == null){
            synchronized (GetGroupInfoApi.class){
                if (this.getGroupInfoApi == null) {
                    this.getGroupInfoApi = new GetGroupInfoApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getGroupInfoApi;
    }

    // ====================GetGroupMemberInfoApi部分====================
    private GetGroupMemberInfoApi getGroupMemberInfoApi = null;

    // 惰性生成GetGroupMemberInfo实例
    private GetGroupMemberInfoApi getGetGroupMemberInfoApi(){
        if(this.getGroupMemberInfoApi == null){
            synchronized (GetGroupMemberInfoApi.class){
                if (this.getGroupMemberInfoApi == null) {
                    this.getGroupMemberInfoApi = new GetGroupMemberInfoApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getGroupMemberInfoApi;
    }

    // ====================GetCookiesApi部分====================
    private GetCookiesApi getCookiesApi = null;

    // 惰性生成GetCookies实例
    private GetCookiesApi getGetCookiesApi(){
        if(this.getCookiesApi == null){
            synchronized (GetCookiesApi.class){
                if (this.getCookiesApi == null) {
                    this.getCookiesApi = new GetCookiesApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getCookiesApi;
    }

    // ====================GetCsrfTokenApi部分====================
    private GetCsrfTokenApi getCsrfTokenApi = null;

    // 惰性生成GetCsrfToken实例
    private GetCsrfTokenApi getGetCsrfTokenApi(){
        if(this.getCsrfTokenApi == null){
            synchronized (GetCsrfTokenApi.class){
                if (this.getCsrfTokenApi == null) {
                    this.getCsrfTokenApi = new GetCsrfTokenApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getCsrfTokenApi;
    }

    // ====================GetCredentialsApi部分====================
    private GetCredentialsApi getCredentialsApi = null;

    // 惰性生成GetCredentials实例
    private GetCredentialsApi getGetCredentialsApi(){
        if(this.getCredentialsApi == null){
            synchronized (GetCredentialsApi.class){
                if (this.getCredentialsApi == null) {
                    this.getCredentialsApi = new GetCredentialsApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getCredentialsApi;
    }

    // ====================GetRecordApi部分====================
    private GetRecordApi getRecordApi = null;

    // 惰性生成GetRecord实例
    private GetRecordApi getGetRecordApi(){
        if(this.getRecordApi == null){
            synchronized (GetRecordApi.class){
                if (this.getRecordApi == null) {
                    this.getRecordApi = new GetRecordApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getRecordApi;
    }

    // ====================GetImageApi部分====================
    private GetImageApi getImageApi = null;

    // 惰性生成GetImage实例
    private GetImageApi getGetImageApi(){
        if(this.getImageApi == null){
            synchronized (GetImageApi.class){
                if (this.getImageApi == null) {
                    this.getImageApi = new GetImageApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getImageApi;
    }

    // ====================CanSendImageApi部分====================
    private CanSendImageApi canSendImageApi = null;

    // 惰性生成CanSendImage实例
    private CanSendImageApi getCanSendImageApi(){
        if(this.canSendImageApi == null){
            synchronized (CanSendImageApi.class){
                if (this.canSendImageApi == null) {
                    this.canSendImageApi = new CanSendImageApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.canSendImageApi;
    }

    // ====================CanSendRecordApi部分====================
    private CanSendRecordApi canSendRecordApi = null;

    // 惰性生成CanSendRecord实例
    private CanSendRecordApi getCanSendRecordApi(){
        if(this.canSendRecordApi == null){
            synchronized (CanSendRecordApi.class){
                if (this.canSendRecordApi == null) {
                    this.canSendRecordApi = new CanSendRecordApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.canSendRecordApi;
    }

    // ====================GetVersionInfoApi部分====================
    private GetVersionInfoApi getVersionInfoApi = null;

    // 惰性生成GetVersionInfo实例
    private GetVersionInfoApi getGetVersionInfoApi(){
        if(this.getVersionInfoApi == null){
            synchronized (GetVersionInfoApi.class){
                if (this.getVersionInfoApi == null) {
                    this.getVersionInfoApi = new GetVersionInfoApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.getVersionInfoApi;
    }

    // ====================SetRestartPluginApi部分====================
    private SetRestartPluginApi setRestartPluginApi = null;

    // 惰性生成SetRestartPlugin实例
    private SetRestartPluginApi getSetRestartPluginApi(){
        if(this.setRestartPluginApi == null){
            synchronized (SetRestartPluginApi.class){
                if (this.setRestartPluginApi == null) {
                    this.setRestartPluginApi = new SetRestartPluginApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.setRestartPluginApi;
    }

    // ====================CleanDataDirApi部分====================
    private CleanDataDirApi cleanDataDirApi = null;

    // 惰性生成CleanDataDir实例
    private CleanDataDirApi getCleanDataDirApi(){
        if(this.cleanDataDirApi == null){
            synchronized (CleanDataDirApi.class){
                if (this.cleanDataDirApi == null) {
                    this.cleanDataDirApi = new CleanDataDirApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.cleanDataDirApi;
    }

    // ====================CleanPluginLogApi部分====================
    private CleanPluginLogApi cleanPluginLogApi = null;

    // 惰性生成CleanPluginLog实例
    private CleanPluginLogApi getCleanPluginLogApi(){
        if(this.cleanPluginLogApi == null){
            synchronized (CleanPluginLogApi.class){
                if (this.cleanPluginLogApi == null) {
                    this.cleanPluginLogApi = new CleanPluginLogApi(this.baseUrl, this.accessTokenHeader, this.requestConfig);
                }
            }
        }
        return this.cleanPluginLogApi;
    }


    /**
     *  发送私聊消息
     * 
     * @param userId 对方 QQ 号
     * @param message 要发送的内容
     * @param autoEscape 消息内容是否作为纯文本发送（即不解析 CQ 码），只在 `message` 字段是字符串时有效
     * @return SendPrivateMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendPrivateMsgResponse sendPrivateMsg(long userId, String message, boolean autoEscape) throws IOException {
        return this.getSendPrivateMsgApi().request(this.requests, userId, message, autoEscape);
    }

    /**
     *  发送私聊消息
     * 
     * @param userId 对方 QQ 号
     * @param message 要发送的内容
     * @return SendPrivateMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendPrivateMsgResponse sendPrivateMsg(long userId, String message) throws IOException {
        return this.sendPrivateMsg(userId, message, false);
    }

    /**
     *  发送群消息
     * 
     * @param groupId 群号
     * @param message 要发送的内容
     * @param autoEscape 消息内容是否作为纯文本发送（即不解析 CQ 码），只在 `message` 字段是字符串时有效
     * @return SendGroupMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendGroupMsgResponse sendGroupMsg(int groupId, String message, boolean autoEscape) throws IOException {
        return this.getSendGroupMsgApi().request(this.requests, groupId, message, autoEscape);
    }

    /**
     *  发送群消息
     * 
     * @param groupId 群号
     * @param message 要发送的内容
     * @return SendGroupMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendGroupMsgResponse sendGroupMsg(int groupId, String message) throws IOException {
        return this.sendGroupMsg(groupId, message, false);
    }

    /**
     *  发送讨论组消息
     * 
     * @param discussId 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得）
     * @param message 要发送的内容
     * @param autoEscape 消息内容是否作为纯文本发送（即不解析 CQ 码），只在 `message` 字段是字符串时有效
     * @return SendDiscussMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendDiscussMsgResponse sendDiscussMsg(int discussId, String message, boolean autoEscape) throws IOException {
        return this.getSendDiscussMsgApi().request(this.requests, discussId, message, autoEscape);
    }

    /**
     *  发送讨论组消息
     * 
     * @param discussId 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得）
     * @param message 要发送的内容
     * @return SendDiscussMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendDiscussMsgResponse sendDiscussMsg(int discussId, String message) throws IOException {
        return this.sendDiscussMsg(discussId, message, false);
    }

    /**
     *  发送消息
     * 
     * @param messageType 消息类型，支持 `private`、`group`、`discuss`，分别对应私聊、群组、讨论组，如不传入，则根据传入的 `*_id` 参数判断
     * @param userId 对方 QQ 号（消息类型为 `private` 时需要）
     * @param groupId 群号（消息类型为 `group` 时需要）
     * @param discussId 讨论组 ID（消息类型为 `discuss` 时需要）
     * @param message 要发送的内容
     * @param autoEscape 消息内容是否作为纯文本发送（即不解析 CQ 码），只在 `message` 字段是字符串时有效
     * @return SendMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendMsgResponse sendMsg(String messageType, int userId, int groupId, int discussId, String message, boolean autoEscape) throws IOException {
        return this.getSendMsgApi().request(this.requests, messageType, userId, groupId, discussId, message, autoEscape);
    }

    /**
     *  发送消息
     * 
     * @param messageType 消息类型，支持 `private`、`group`、`discuss`，分别对应私聊、群组、讨论组，如不传入，则根据传入的 `*_id` 参数判断
     * @param userId 对方 QQ 号（消息类型为 `private` 时需要）
     * @param groupId 群号（消息类型为 `group` 时需要）
     * @param discussId 讨论组 ID（消息类型为 `discuss` 时需要）
     * @param message 要发送的内容
     * @return SendMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendMsgResponse sendMsg(String messageType, int userId, int groupId, int discussId, String message) throws IOException {
        return this.sendMsg(messageType, userId, groupId, discussId, message, false);
    }

    /**
     *  撤回消息
     * 
     * @param messageId 消息 ID
     * @return DeleteMsgResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public DeleteMsgResponse deleteMsg(int messageId) throws IOException {
        return this.getDeleteMsgApi().request(this.requests, messageId);
    }

    /**
     *  发送好友赞
     * 
     * @param userId 对方 QQ 号
     * @param times 赞的次数，每个好友每天最多 10 次
     * @return SendLikeResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendLikeResponse sendLike(int userId, int times) throws IOException {
        return this.getSendLikeApi().request(this.requests, userId, times);
    }

    /**
     *  发送好友赞
     * 
     * @param userId 对方 QQ 号
     * @return SendLikeResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SendLikeResponse sendLike(int userId) throws IOException {
        return this.sendLike(userId, 1);
    }

    /**
     *  群组踢人
     * 
     * @param groupId 群号
     * @param userId 要踢的 QQ 号
     * @param rejectAddRequest 拒绝此人的加群请求
     * @return SetGroupKickResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupKickResponse setGroupKick(int groupId, int userId, boolean rejectAddRequest) throws IOException {
        return this.getSetGroupKickApi().request(this.requests, groupId, userId, rejectAddRequest);
    }

    /**
     *  群组踢人
     * 
     * @param groupId 群号
     * @param userId 要踢的 QQ 号
     * @return SetGroupKickResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupKickResponse setGroupKick(int groupId, int userId) throws IOException {
        return this.setGroupKick(groupId, userId, false);
    }

    /**
     *  群组单人禁言
     * 
     * @param groupId 群号
     * @param userId 要禁言的 QQ 号
     * @param duration 禁言时长，单位秒，0 表示取消禁言
     * @return SetGroupBanResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupBanResponse setGroupBan(int groupId, int userId, int duration) throws IOException {
        return this.getSetGroupBanApi().request(this.requests, groupId, userId, duration);
    }

    /**
     *  群组单人禁言
     * 
     * @param groupId 群号
     * @param userId 要禁言的 QQ 号
     * @return SetGroupBanResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupBanResponse setGroupBan(int groupId, int userId) throws IOException {
        return this.setGroupBan(groupId, userId, 1800);
    }

    /**
     *  群组全员禁言
     * 
     * @param groupId 群号
     * @param enable 是否禁言
     * @return SetGroupWholeBanResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupWholeBanResponse setGroupWholeBan(int groupId, boolean enable) throws IOException {
        return this.getSetGroupWholeBanApi().request(this.requests, groupId, enable);
    }

    /**
     *  群组全员禁言
     * 
     * @param groupId 群号
     * @return SetGroupWholeBanResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupWholeBanResponse setGroupWholeBan(int groupId) throws IOException {
        return this.setGroupWholeBan(groupId, true);
    }

    /**
     *  群组设置管理员
     * 
     * @param groupId 群号
     * @param userId 要设置管理员的 QQ 号
     * @param enable true 为设置，false 为取消
     * @return SetGroupAdminResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupAdminResponse setGroupAdmin(int groupId, int userId, boolean enable) throws IOException {
        return this.getSetGroupAdminApi().request(this.requests, groupId, userId, enable);
    }

    /**
     *  群组设置管理员
     * 
     * @param groupId 群号
     * @param userId 要设置管理员的 QQ 号
     * @return SetGroupAdminResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupAdminResponse setGroupAdmin(int groupId, int userId) throws IOException {
        return this.setGroupAdmin(groupId, userId, true);
    }

    /**
     *  群组匿名
     * 
     * @param groupId 群号
     * @param enable 是否允许匿名聊天
     * @return SetGroupAnonymousResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupAnonymousResponse setGroupAnonymous(int groupId, boolean enable) throws IOException {
        return this.getSetGroupAnonymousApi().request(this.requests, groupId, enable);
    }

    /**
     *  群组匿名
     * 
     * @param groupId 群号
     * @return SetGroupAnonymousResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupAnonymousResponse setGroupAnonymous(int groupId) throws IOException {
        return this.setGroupAnonymous(groupId, true);
    }

    /**
     *  设置群名片（群备注）
     * 
     * @param groupId 群号
     * @param userId 要设置的 QQ 号
     * @param card 群名片内容，不填或空字符串表示删除群名片
     * @return SetGroupCardResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupCardResponse setGroupCard(int groupId, int userId, String card) throws IOException {
        return this.getSetGroupCardApi().request(this.requests, groupId, userId, card);
    }

    /**
     *  设置群名片（群备注）
     * 
     * @param groupId 群号
     * @param userId 要设置的 QQ 号
     * @return SetGroupCardResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupCardResponse setGroupCard(int groupId, int userId) throws IOException {
        return this.setGroupCard(groupId, userId, "");
    }

    /**
     *  退出群组
     * 
     * @param groupId 群号
     * @param isDismiss 是否解散，如果登录号是群主，则仅在此项为 true 时能够解散
     * @return SetGroupLeaveResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupLeaveResponse setGroupLeave(int groupId, boolean isDismiss) throws IOException {
        return this.getSetGroupLeaveApi().request(this.requests, groupId, isDismiss);
    }

    /**
     *  退出群组
     * 
     * @param groupId 群号
     * @return SetGroupLeaveResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupLeaveResponse setGroupLeave(int groupId) throws IOException {
        return this.setGroupLeave(groupId, false);
    }

    /**
     *  设置群组专属头衔
     * 
     * @param groupId 群号
     * @param userId 要设置的 QQ 号
     * @param specialTitle 专属头衔，不填或空字符串表示删除专属头衔
     * @param duration 专属头衔有效期，单位秒，-1 表示永久，不过此项似乎没有效果，可能是只有某些特殊的时间长度有效，有待测试
     * @return SetGroupSpecialTitleResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupSpecialTitleResponse setGroupSpecialTitle(int groupId, int userId, String specialTitle, int duration) throws IOException {
        return this.getSetGroupSpecialTitleApi().request(this.requests, groupId, userId, specialTitle, duration);
    }

    /**
     *  设置群组专属头衔
     * 
     * @param groupId 群号
     * @param userId 要设置的 QQ 号
     * @param specialTitle 专属头衔，不填或空字符串表示删除专属头衔
     * @return SetGroupSpecialTitleResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetGroupSpecialTitleResponse setGroupSpecialTitle(int groupId, int userId, String specialTitle) throws IOException {
        return this.setGroupSpecialTitle(groupId, userId, specialTitle, -1);
    }

    /**
     *  退出讨论组
     * 
     * @param discussId 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得）
     * @return SetDiscussLeaveResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetDiscussLeaveResponse setDiscussLeave(int discussId) throws IOException {
        return this.getSetDiscussLeaveApi().request(this.requests, discussId);
    }

    /**
     *  处理加好友请求
     * 
     * @param flag 加好友请求的 flag（需从上报的数据中获得）
     * @param approve 是否同意请求
     * @param remark 添加后的好友备注（仅在同意时有效）
     * @return SetFriendAddRequestResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetFriendAddRequestResponse setFriendAddRequest(String flag, boolean approve, String remark) throws IOException {
        return this.getSetFriendAddRequestApi().request(this.requests, flag, approve, remark);
    }

    /**
     *  处理加好友请求
     * 
     * @param flag 加好友请求的 flag（需从上报的数据中获得）
     * @param approve 是否同意请求
     * @return SetFriendAddRequestResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetFriendAddRequestResponse setFriendAddRequest(String flag, boolean approve) throws IOException {
        return this.setFriendAddRequest(flag, approve, "");
    }

    /**
     *  获取登录号信息
     * 
     * @return GetLoginInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetLoginInfoResponse getLoginInfo() throws IOException {
        return this.getGetLoginInfoApi().request(this.requests);
    }

    /**
     *  获取陌生人信息
     * 
     * @param userId QQ 号
     * @param noCache 是否不使用缓存（使用缓存可能更新不及时，但响应更快）
     * @return GetStrangerInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetStrangerInfoResponse getStrangerInfo(int userId, boolean noCache) throws IOException {
        return this.getGetStrangerInfoApi().request(this.requests, userId, noCache);
    }

    /**
     *  获取陌生人信息
     * 
     * @param userId QQ 号
     * @return GetStrangerInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetStrangerInfoResponse getStrangerInfo(int userId) throws IOException {
        return this.getStrangerInfo(userId, false);
    }

    /**
     *  获取好友列表
     * 
     * @return GetFriendListResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetFriendListResponse getFriendList() throws IOException {
        return this.getGetFriendListApi().request(this.requests);
    }

    /**
     *  获取群列表
     * 
     * @return GetGroupListResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetGroupListResponse getGroupList() throws IOException {
        return this.getGetGroupListApi().request(this.requests);
    }

    /**
     *  获取群信息
     * 
     * @param groupId 群号
     * @param noCache 是否不使用缓存（使用缓存可能更新不及时，但响应更快）
     * @return GetGroupInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetGroupInfoResponse getGroupInfo(int groupId, boolean noCache) throws IOException {
        return this.getGetGroupInfoApi().request(this.requests, groupId, noCache);
    }

    /**
     *  获取群信息
     * 
     * @param groupId 群号
     * @return GetGroupInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetGroupInfoResponse getGroupInfo(int groupId) throws IOException {
        return this.getGroupInfo(groupId, false);
    }

    /**
     *  获取群成员信息
     * 
     * @param groupId 群号
     * @param userId QQ 号
     * @param noCache 是否不使用缓存（使用缓存可能更新不及时，但响应更快）
     * @return GetGroupMemberInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetGroupMemberInfoResponse getGroupMemberInfo(int groupId, int userId, boolean noCache) throws IOException {
        return this.getGetGroupMemberInfoApi().request(this.requests, groupId, userId, noCache);
    }

    /**
     *  获取群成员信息
     * 
     * @param groupId 群号
     * @param userId QQ 号
     * @return GetGroupMemberInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetGroupMemberInfoResponse getGroupMemberInfo(int groupId, int userId) throws IOException {
        return this.getGroupMemberInfo(groupId, userId, false);
    }

    /**
     *  获取 Cookies
     * 
     * @param domain 需要获取 cookies 的域名
     * @return GetCookiesResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetCookiesResponse getCookies(String domain) throws IOException {
        return this.getGetCookiesApi().request(this.requests, domain);
    }

    /**
     *  获取 CSRF Token
     * 
     * @return GetCsrfTokenResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetCsrfTokenResponse getCsrfToken() throws IOException {
        return this.getGetCsrfTokenApi().request(this.requests);
    }

    /**
     *  获取 QQ 相关接口凭证
     * 即上面两个接口的合并。
     * @return GetCredentialsResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetCredentialsResponse getCredentials() throws IOException {
        return this.getGetCredentialsApi().request(this.requests);
    }

    /**
     *  获取语音
     * 其实并不是真的获取语音，而是转换语音到指定的格式，然后返回语音文件名（`data\record` 目录下）。**注意，要使用此接口，需要安装 酷Q 的 [语音组件](https://cqp.cc/t/21132)。**
     * @param file 收到的语音文件名（CQ 码的 `file` 参数），如 `0B38145AA44505000B38145AA4450500.silk`
     * @param outFormat 要转换到的格式，目前支持 `mp3`、`amr`、`wma`、`m4a`、`spx`、`ogg`、`wav`、`flac`
     * @param fullPath 是否返回文件的绝对路径（Windows 环境下建议使用，Docker 中不建议）
     * @return GetRecordResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetRecordResponse getRecord(String file, String outFormat, boolean fullPath) throws IOException {
        return this.getGetRecordApi().request(this.requests, file, outFormat, fullPath);
    }

    /**
     *  获取语音
     * 其实并不是真的获取语音，而是转换语音到指定的格式，然后返回语音文件名（`data\record` 目录下）。**注意，要使用此接口，需要安装 酷Q 的 [语音组件](https://cqp.cc/t/21132)。**
     * @param file 收到的语音文件名（CQ 码的 `file` 参数），如 `0B38145AA44505000B38145AA4450500.silk`
     * @param outFormat 要转换到的格式，目前支持 `mp3`、`amr`、`wma`、`m4a`、`spx`、`ogg`、`wav`、`flac`
     * @return GetRecordResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetRecordResponse getRecord(String file, String outFormat) throws IOException {
        return this.getRecord(file, outFormat, false);
    }

    /**
     *  获取图片
     * 
     * @param file 收到的图片文件名（CQ 码的 `file` 参数），如 `6B4DE3DFD1BD271E3297859D41C530F5.jpg`
     * @return GetImageResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetImageResponse getImage(String file) throws IOException {
        return this.getGetImageApi().request(this.requests, file);
    }

    /**
     *  检查是否可以发送图片
     * 
     * @return CanSendImageResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public CanSendImageResponse canSendImage() throws IOException {
        return this.getCanSendImageApi().request(this.requests);
    }

    /**
     *  检查是否可以发送语音
     * 
     * @return CanSendRecordResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public CanSendRecordResponse canSendRecord() throws IOException {
        return this.getCanSendRecordApi().request(this.requests);
    }

    /**
     *  获取 酷Q 及 HTTP API 插件的版本信息
     * 
     * @return GetVersionInfoResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public GetVersionInfoResponse getVersionInfo() throws IOException {
        return this.getGetVersionInfoApi().request(this.requests);
    }

    /**
     *  重启 HTTP API 插件
     * 由于重启插件同时需要重启 API 服务，这意味着当前的 API 请求会被中断，因此需在异步地重启插件，接口返回的 `status` 是 `async`。
     * @param delay 要延迟的毫秒数，如果默认情况下无法重启，可以尝试设置延迟为 2000 左右
     * @return SetRestartPluginResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public SetRestartPluginResponse setRestartPlugin(int delay) throws IOException {
        return this.getSetRestartPluginApi().request(this.requests, delay);
    }

    /**
     *  清理数据目录
     * 用于清理积攒了太多旧文件的数据目录，如 `image`。
     * @param dataDir 收到清理的目录名，支持 `image`、`record`、`show`、`bface`
     * @return CleanDataDirResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public CleanDataDirResponse cleanDataDir(String dataDir) throws IOException {
        return this.getCleanDataDirApi().request(this.requests, dataDir);
    }

    /**
     *  清理插件日志
     * 用于清空插件的日志文件。
     * @return CleanPluginLogResponse实例
     * @throws IOException 由httpClient抛出的IO异常
     */
    public CleanPluginLogResponse cleanPluginLog() throws IOException {
        return this.getCleanPluginLogApi().request(this.requests);
    }

}
